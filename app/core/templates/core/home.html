{% extends 'base.html' %}
{% load static %}
{% block title %}
Home
{% endblock %}

{% block content %}
    <style>
     #notifications {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
<div>
  <!-- main -->
  {% include "core/header.html" %}
  <!-- main -->
  <div class="bg-[#f3f5f7]">
    <div class="sm:containerc px-6 sm:px-[144px] py-6  w-10/12 mx-auto sm:container">
      <div class="flex items-center gap-3 ">
        <h1 class="text-[24px] font-bold border-r-2 border-slate-600 pr-3  text-orange-500"> Việc làm tốt nhất </h1> <img
          class="w-[110px] h-[26px]"
          src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/feature-job/label-toppy-ai.png"
          alt="">
      </div>
      <div class="hidden sm:block">
        <div class="box-smart-location">
          <div class="prev-location btn-slick-arrow"><i class="fa-solid fa-angle-left"></i></div>
          <div class="flex items-center mt-3">

            <button
              class="job-filter-button bg-orange   focus:outline-none focus:ring-4 focus:ring-orange text-orange-500 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 ">
              Ngẫu Nhiên
            </button>
            <button
              class="job-filter-button  bg-[#E9EAEC]  focus:outline-none hover:ring-1 hover:ring-orange text-orange-500 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2">
              Hà Nội
            </button>
            <button
              class="job-filter-button  bg-[#E9EAEC]  focus:outline-none hover:ring-1 hover:ring-orange text-orange-500 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2">
              Hồ Chí Minh
            </button>
            <button
              class="job-filter-button  bg-[#E9EAEC]  focus:outline-none hover:ring-1 hover:ring-orange text-orange-500 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2">
              Đà nẵng
            </button>

          </div>
          <div class="next-location btn-slick-arrow"><i class="fa-solid fa-angle-right"></i></div>
        </div>
      </div>

      <div>
        <div class="mt-3 grid 2xl:grid-cols-3  min-[1800px]:grid-cols-4"  id="job-results">
          <!-- ITEM VIỆC LÀM -->
{#            {% include 'jobs/top_jobs.html' with top_jobs=top_jobs %}#}
        </div>
      </div>
        <script type="text/javascript">
        $(document).ready(function() {
            function loadJobs(keyword) {
                $.ajax({
                    url: "/jobs/filter-job-by-keyword/" + keyword + "/",
                    type: "GET",
                    success: function(data) {
                        // Update the job results container with the received HTML
                        $("#job-results").html(data.html); // Use data.html to update the content
                    },
                    error: function(xhr, status, error) {
                        console.error("Error occurred: " + error);
                    }
                });
            }
            // function activateButton(button) {
            //     {# Remove common classes bg-[#E9EAEC] #}
            //     $(".job-filter-button").removeClass("text-white bg-orange text-orange-500").addClass("text-black bg-[#E9EAEC]");
            //     {# Add class for an activate button #}
            //     $(button).removeClass("text-black bg-[#E9EAEC]").addClass("text-white bg-orange text-orange-500");
            // }

            // Trigger the first button click when the page loads
            var initialKeyword = $(".job-filter-button:first").text().trim();
            loadJobs(initialKeyword);
            activateButton($(".job-filter-button:first"));

            $(".job-filter-button").click(function() {
                var keyword = $(this).text().trim(); // Extract text inside the button
                loadJobs(keyword);
                activateButton(this);
            });
        });
        </script>

      <!-- top companies -->
      <div class="py-3">
        <div class="py-6">
          <h1 class="text-[24px] font-bold border-r-2 border-slate-600 pr-3  text-orange-500"> Top công ty hàng đầu </h1>
        </div>



        <div class="grid 2xl:grid-cols-4 min-[1800px]:grid-cols-5">
          <!-- item company -->
          {% include 'jobs/top_company.html' with top_companies=top_companies %}
        </div>

      </div>

    </div>
    <!-- over tool -->
    <div
      style="background: linear-gradient(to right, rgb(118, 18, 255), rgb(5, 178, 255)); ">
      <div class="sm:containerc  px-6 sm:px-[144px] py-6 ">
        <div class=" sm:flex justify-center text-white text-[40px] font-bold">
          <h1>Công cụ vượt trội</h1>
        </div>
        <div class="justify-center gap-32 md:flex">

          <div>
            <!-- item overtool -->
            <div>
              <div class="flex gap-3 p-4 mt-8 bg-white rounded-lg ">
                <div class="">
                  <img class="w-12 h-12"
                    src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/superior-tool/gross-net.png">
                </div>
                <div class="">
                  <h3 class="text-base font-bold">Tính lương GROSS - NET</h3>
                  <span class="text-orange-500 ">
                    Khám phá ngay
                    <i class="fa-solid fa-arrow-right"></i>
                  </span>
                </div>
              </div>
            </div>
            <!-- item overtool -->
            <div>
              <div class="flex gap-3 p-4 mt-8 bg-white rounded-lg w-fit">
                <div class="">
                  <img class="w-12 h-12"
                    src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/superior-tool/lai-suat-kep.png">
                </div>
                <div class="">
                  <h3 class="text-base font-bold">Tính lãi suất kép</h3>
                  <span class="text-orange-500 ">
                    Khám phá ngay
                    <i class="fa-solid fa-arrow-right"></i>
                  </span>
                </div>
              </div>
            </div>
            <!-- item overtool -->
            <div>
              <div class="flex gap-3 p-4 mt-8 bg-white rounded-lg ">
                <div class="">
                  <img class="w-12 h-12"
                    src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/superior-tool/thu-nhap-ca-nhan.png">
                </div>
                <div class="">
                  <h3 class="text-base font-bold"> Tính thuế thu nhập cá nhân</h3>
                  <span class="text-orange-500 ">
                    Khám phá ngay
                    <i class="fa-solid fa-arrow-right"></i>
                  </span>
                </div>
              </div>
            </div>
          </div>

          <div><img class="h-[387px] w-[ 340px ]"
              src="https://static.topcv.vn/v4/image/welcome/superior-tool/superior-tool-bg.png?v=1.0.1" alt=""></div>
          <div>

            <div>
              <!-- item overtool -->
              <div>
                <div class="flex gap-3 p-4 mt-8 bg-white rounded-lg ">
                  <div class="">
                    <img class="w-12 h-12"
                      src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/superior-tool/bao-hiem-that-nghiep.png">
                  </div>
                  <div class="">
                    <h3 class="text-base font-bold">Tính bảo hiểm thất nghiệp</h3>
                    <span class="text-orange-500 ">
                      Khám phá ngay
                      <i class="fa-solid fa-arrow-right"></i>
                    </span>
                  </div>
                </div>
              </div>
              <!-- item overtool -->
              <div>
                <div class="flex gap-3 p-4 mt-8 bg-white rounded-lg w-fit">
                  <div class="">
                    <img class="w-12 h-12"
                      src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/superior-tool/ke-hoach-tiet-kiem.png">
                  </div>
                  <div class="">
                    <h3 class="text-base font-bold">Lập kế hoạch tiết kiệm</h3>
                    <span class="text-orange-500 ">
                      Khám phá ngay
                      <i class="fa-solid fa-arrow-right"></i>
                    </span>
                  </div>
                </div>
              </div>
              <!-- item overtool -->
              <div>
                <div class="flex gap-3 p-4 mt-8 bg-white rounded-lg ">
                  <div class="">
                    <img class="w-12 h-12"
                      src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/superior-tool/bao-hiem-xa-hoi-mot-lan.png">
                  </div>
                  <div class="">
                    <h3 class="text-base font-bold"> Bảo hiểm xã hổi một lần </h3>
                    <span class="text-orange-500 ">
                      Khám phá ngay
                      <i class="fa-solid fa-arrow-right"></i>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- top work -->
    <div class="sm:containerc  px-6 sm:px-[144px] py-6 ">

    <div class="sm:containerc  px-6 sm:px-[144px] py-6 ">
      <!-- top jobs -->
      <div class="">
        <h1 class="text-[24px] font-bold mb-6 border-r-2 border-slate-600 pr-3  text-orange-500">
          Top ngành nghề nổi bật
        </h1>

        <div class="grid md:grid-cols-4">
          <!-- item top job -->
          {% include 'jobs/top_category.html' with top_categories=top_categories %}


        </div>

      </div>
      <div>

        <div class="py-6">
          <h1 class="text-[24px] font-bold border-r-2 border-slate-600 pr-3  text-orange-500"> Cùng TopCV xây dựng thương
            hiệu cá nhân
          </h1>
        </div>
        <div class="grid gap-6 md:grid-cols-2 ">
          <!-- item topwork -->
          <div class="flex bg-[bg-white   bg-white rounded-lg hover:border hover:shadow hover:shadow-orange text-orange-500  ">
            <div class="p-4 space-y-6 ">
              <h3 class="mb-3 text-xl font-bold">
                TopCV Profile
              </h3>
              <p class="text-sm font-semibold text-[#6F7882] mb-5">
                TopCV Profile là bản hồ sơ năng lực giúp bạn xây dựng thương hiệu cá nhân, thể hiện
                thế mạnh của bản thân thông qua việc đính kèm học vấn, kinh nghiệm, dự án, kỹ
                năng,... của mình
              </p>
              <div class="px-4 py-1 text-orange-500 rounded-md bg-orange w-fit ">
                Tạo Profile

              </div>
            </div>
            <div class="">
              <img class=""
                src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/sel-growth/profile-desktop.png">
            </div>
          </div>

          <div class="flex text-orange-500 bg-white rounded-lg hover:border hover:shadow hover:shadow-orange ">
            <div class="p-4 space-y-6 ">
              <h3 class="mb-3 text-xl font-bold">
                TopCV Profile
              </h3>
              <p class="text-sm font-semibold text-[#6F7882] mb-5">
                TopCV Profile là bản hồ sơ năng lực giúp bạn xây dựng thương hiệu cá nhân, thể hiện
                thế mạnh của bản thân thông qua việc đính kèm học vấn, kinh nghiệm, dự án, kỹ
                năng,... của mình
              </p>
              <div class="px-4 py-1 text-white text-orange-500 rounded-md bg-orange w-fit ">
                Tạo Profile

              </div>
            </div>
            <div class="">
              <img class=""
                src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/sel-growth/profile-desktop.png">
            </div>
          </div>

          <!-- item topwork -->
          <div class="flex bg-[bg-white   bg-white rounded-lg hover:border hover:shadow hover:shadow-orange text-orange-500  ">
            <div class="p-4 space-y-6 ">
              <h3 class="mb-3 text-xl font-bold">
                TopCV Profile
              </h3>
              <p class="text-sm font-semibold text-[#6F7882] mb-5">
                TopCV Profile là bản hồ sơ năng lực giúp bạn xây dựng thương hiệu cá nhân, thể hiện
                thế mạnh của bản thân thông qua việc đính kèm học vấn, kinh nghiệm, dự án, kỹ
                năng,... của mình
              </p>
              <div class="px-4 py-1 text-white text-orange-500 rounded-md bg-orange w-fit ">
                Tạo Profile

              </div>
            </div>
            <div class="">
              <img class=""
                src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/sel-growth/profile-desktop.png">
            </div>
          </div>

          <!-- item topwork -->
          <div class="flex bg-[bg-white   bg-white rounded-lg hover:border hover:shadow hover:shadow-orange text-orange-500  ">
            <div class="p-4 space-y-6 ">
              <h3 class="mb-3 text-xl font-bold">
                TopCV Profile
              </h3>
              <p class="text-sm font-semibold text-[#6F7882] mb-5">
                TopCV Profile là bản hồ sơ năng lực giúp bạn xây dựng thương hiệu cá nhân, thể hiện
                thế mạnh của bản thân thông qua việc đính kèm học vấn, kinh nghiệm, dự án, kỹ
                năng,... của mình
              </p>
              <div class="px-4 py-1 text-white text-orange-500 rounded-md bg-orange w-fit ">
                Tạo Profile

              </div>
            </div>
            <div class="">
              <img class=""
                src="https://cdn-new.topcv.vn/unsafe/https://static.topcv.vn/v4/image/welcome/sel-growth/profile-desktop.png">
            </div>
          </div>
        </div>
      </div>

    </div>


  </div>
     {% include "core/footer.html" %}
  {% block script %}
  <script src="{% static 'core/chart.js' %}"></script>
  {% endblock %}
</div>

{% endblock %}
